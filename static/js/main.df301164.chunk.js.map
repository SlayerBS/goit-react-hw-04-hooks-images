{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","App.module.css","components/Searchbar/SearchBar.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","api/api.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","SearchBar","onSubmit","useState","value","setValue","className","styles","Searchbar","SearchForm","evt","preventDefault","trim","toast","error","type","autoComplete","autoFocus","placeholder","onChange","target","toLowerCase","console","log","protoType","PropTypes","func","isRequired","ImageGalleryItem","imageSrc","openModalImage","src","alt","onClick","ImageGallery","images","modalImage","map","id","webformatURL","largeImageURL","Button","searchQuery","page","a","axios","get","params","q","catch","data","hits","defaults","baseURL","key","image_type","orientation","per_page","LoaderSpiner","Loader","color","height","width","modalRoot","document","querySelector","Modal","onClose","img","useEffect","window","addEventListener","handleKeyDown","removeEventListener","e","code","createPortal","Overlay","currentTarget","App","setImages","setSearchQuery","setPage","showModal","setShowModal","isLoading","setIsLoading","setLargeImageURL","showButton","setShowButton","getImages","length","getImagesByQuery","then","prevState","finally","scrollDown","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","autoClose","position","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.df301164.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3j2i3\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__35aOh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3xE3a\",\"Modal\":\"Modal_Modal__1fXvi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3lLan\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3Wfh6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__2jeie\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2Px-0\",\"Error\":\"App_Error__g_D_o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__30I3Z\",\"SearchForm\":\"SearchBar_SearchForm__LKwhm\",\"SearchForm-button\":\"SearchBar_SearchForm-button__2Egq3\",\"SearchForm-button-label\":\"SearchBar_SearchForm-button-label__3Xo0X\",\"SearchForm-input\":\"SearchBar_SearchForm-input__1jSpm\"};","import React, { useState } from \"react\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./SearchBar.module.css\";\r\n\r\nexport default function SearchBar({ onSubmit }) {\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const handleChange = (evt) => {\r\n    setValue(evt.target.value.toLowerCase());\r\n    console.log(evt.target.value);\r\n  };\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    if (value.trim() === \"\") {\r\n      toast.error(\"Введите поисковый запрос\");\r\n      return;\r\n    }\r\n    onSubmit(value);\r\n    setValue(\"\");\r\n  };\r\n\r\n  return (\r\n    <header className={styles.Searchbar}>\r\n      <form className={styles.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={styles[\"SearchForm-button\"]}>\r\n          <span className={styles[\"SearchForm-button-label\"]}>Search</span>\r\n        </button>\r\n        <input\r\n          className={styles[\"SearchForm-input\"]}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={handleChange}\r\n          value={value}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchBar.protoType = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ imageSrc, openModalImage }) => {\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img\r\n        src={imageSrc}\r\n        alt=\"\"\r\n        className={styles[\"ImageGalleryItem-image\"]}\r\n        onClick={openModalImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  imageSrc: PropTypes.string.isRequired,\r\n  openModalImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\n\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ images, modalImage }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {images.map(({ id, webformatURL, largeImageURL }) => {\r\n        const openModalImage = () => modalImage(largeImageURL);\r\n        return (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            imageSrc={webformatURL}\r\n            openModalImage={openModalImage}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  modalImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from \"prop-types\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button onClick={onClick} className={styles.Button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\naxios.defaults.baseURL = \"https://pixabay.com/api\";\r\naxios.defaults.params = {\r\n  key: \"4423902-dbd0f970c0cc60dbb84d66d4b\",\r\n  image_type: \"photo\",\r\n  orientation: \"horizontal\",\r\n  per_page: 12,\r\n};\r\n\r\nasync function getImagesByQuery(searchQuery, page) {\r\n  const { data } = await axios\r\n    .get(\"\", {\r\n      params: { q: searchQuery, page },\r\n    })\r\n    .catch(function (error) {\r\n      toast.error(error);\r\n    });\r\n  return data.hits;\r\n}\r\n\r\nexport { getImagesByQuery };\r\n","import Loader from \"react-loader-spinner\";\r\n\r\nimport styles from \"./Loader.module.css\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nconst LoaderSpiner = () => {\r\n  return (\r\n    <div className={styles.Loader}>\r\n      <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />;\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoaderSpiner;\r\n","import PropTypes from \"prop-types\";\r\nimport React, { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nimport styles from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default function Modal({ onClose, img }) {\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n  }, []);\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={styles.Overlay} onClick={handleBackdropClick}>\r\n      <div className={styles.Modal}>\r\n        <img src={img} alt=\"\" />\r\n      </div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func,\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport SearchBar from \"./components/Searchbar\";\r\nimport ImageGallery from \"./components/ImageGallery\";\r\nimport Button from \"./components/Button\";\r\nimport { getImagesByQuery } from \"./api/api\";\r\nimport LoaderSpiner from \"./components/Loader\";\r\nimport Modal from \"./components/Modal\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport styles from \"./App.module.css\";\r\n\r\nexport default function App() {\r\n  const [images, setImages] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [largeImageURL, setLargeImageURL] = useState(\"\");\r\n  const [showButton, setShowButton] = useState(false);\r\n\r\n  useEffect(() => {\r\n    console.log(\"searchQuery\", searchQuery);\r\n    searchQuery && getImages();\r\n    if (images.length % 12) {\r\n      console.log(images.length % 12, images);\r\n      setShowButton(true);\r\n    }\r\n  }, [searchQuery]);\r\n\r\n  const onSubmit = (searchQuery) => {\r\n    setImages([]);\r\n    setSearchQuery(searchQuery);\r\n    setPage(1);\r\n    // setError(null),\r\n    setShowButton(false);\r\n  };\r\n\r\n  const getImages = () => {\r\n    setIsLoading(true);\r\n    // const prevImages = images;\r\n    getImagesByQuery(searchQuery, page)\r\n      .then((images) => {\r\n        if (images.length === 0) {\r\n          setShowButton(false);\r\n          toast.error(\r\n            `Search result by \"${searchQuery}' not successful. Enter the correct query.`\r\n          );\r\n          return;\r\n        } else if (images.length !== 12) {\r\n          toast(\"Фото закончились\");\r\n          setShowButton(false);\r\n        }\r\n        setImages((prevState) => [...prevState, ...images]);\r\n        setPage((page) => page + 1);\r\n        setShowButton(true);\r\n      })\r\n      .catch((error) => toast(error))\r\n      .finally(() => {\r\n        scrollDown();\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  const scrollDown = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  const toggleModal = () => setShowModal(!showModal);\r\n\r\n  const modalImage = (largeImageURL) => {\r\n    setLargeImageURL(largeImageURL);\r\n    toggleModal();\r\n  };\r\n\r\n  return (\r\n    <div className={styles.App}>\r\n      <ToastContainer autoClose={3000} position=\"top-left\" />\r\n      <SearchBar onSubmit={onSubmit} />\r\n\r\n      {images && (\r\n        <div>\r\n          <ImageGallery images={images} modalImage={modalImage} />\r\n        </div>\r\n      )}\r\n      {isLoading && <LoaderSpiner />}\r\n      {showButton && !isLoading && <Button onClick={getImages} />}\r\n      {showModal && <Modal onClose={toggleModal} img={largeImageURL} />}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}